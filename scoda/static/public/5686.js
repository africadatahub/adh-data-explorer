"use strict";(self.webpackChunkocl_bb_library=self.webpackChunkocl_bb_library||[]).push([[5686],{95686:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var a=r(67294),n=r(13174),o=r(92202),l=(r(17730),r(9669)),c=r.n(l);r(60622);var s=r(22989),i=r(11741),u=r(85677),d=r(10684),m=r(36955),f=(r(46799),r(32985)),h=r(96486),b=r.n(h);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,c=[],s=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(a=o.call(r)).done)&&(c.push(a.value),c.length!==t);s=!0);}catch(e){i=!0,n=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(i)throw n}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==p(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(44448);var w={control:function(e){return E(E({},e),{},{border:"1px solid #4A4A4A",borderRadius:"28px",boxShadow:"none","&:hover":{border:"1px solid #4A4A4A",borderRadius:"28px"}})}};const _=function(){var e=v((0,a.useState)([]),2),t=e[0],r=e[1],n=v((0,a.useState)([]),2),o=n[0],l=n[1],h=v((0,a.useState)([]),2),p=h[0],g=h[1],y=v((0,a.useState)([]),2),E=y[0],N=y[1],_=v((0,a.useState)([]),2),S=_[0],k=_[1],x=v((0,a.useState)([]),2),C=x[0],D=x[1],O=function(e){switch(e){case 0:return"#B7E0DE";case 1:return"#6ABFBB";case 2:return"#2D9B96";default:return"#0F7671"}},P=function(e){switch(e){case 0:return"#FFD0B7";case 1:return"#FFAD81";case 2:return"#EE702D";default:return"#D44F08"}},j=function(e){switch(e){case"Buffalo City":return"BUF";case"City of Cape Town":return"CPT";case"City of Joburg":return"JHB";case"Ekurhuleni":return"EKU";case"Mangaung":return"MAN";case"Msunduzi":return"MSU";case"Nelson Mandela Bay":return"NMA";case"Tshwane":return"TSH";case"eThekwini":return"ETH"}},A=function(e,t,r,a){for(var n=b().map(r,"value"),o=[],l=2e3,c=0;l<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===l.toString()})).length>0){for(var s=e.filter((function(e){return e[1]===l.toString()})),i=[],u=0;u<s.length;u++){var d=j(s[u][0]);n.includes(d)&&(s[u][0]=d,i.push(s[u][2]),s[u][2]&&s[u][2])}o.push({year:l,data:s,labels:[],values:i,color:a(c)}),c+=1}l+=1}t(o)},T=function(e,t){c().get(e).then((function(e){t(e.data.table)}))},F=function(e){for(var t=[],a=2e3,n=0;a<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===a.toString()})).length>0){for(var o=e.filter((function(e){return e[1]===a.toString()})),c=[],s=[],i=0;i<o.length;i++)o[i][0]=j(o[i][0]),c.push({label:o[i][0],value:o[i][0]}),s.push(o[i][2]),o[i][2]&&o[i][2];t.push({year:a,labels:c,values:s,color:O(n)}),r(c),l(t),D(c),n+=1}a+=1}l(t)},Z=function(e){for(var t=[],r=2e3,a=0;r<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===r.toString()})).length>0){for(var n=e.filter((function(e){return e[1]===r.toString()})),o=[],l=[],c=0;c<n.length;c++)n[c][0]=j(n[c][0]),o.push({label:n[c][0],value:n[c][0]}),l.push(n[c][2]),n[c][2]&&n[c][2];t.push({year:r,labels:o,values:l,color:P(a)}),a+=1}r+=1}N(t)},z=function(e){for(var t=[],r=2e3,a=0;r<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===r.toString()})).length>0){for(var n=e.filter((function(e){return e[1]===r.toString()})),o=[],l=[],c=0;c<n.length;c++)n[c][0]=j(n[c][0]),o.push({label:n[c][0],value:n[c][0]}),l.push(n[c][2]),n[c][2]&&n[c][2];t.push({year:r,labels:o,values:l,color:O(a)}),a+=1}r+=1}g(t)},M=function(e){for(var t=[],r=2e3,a=0;r<=(new Date).getFullYear();){if(e.filter((function(e){return e[1]===r.toString()})).length>0){for(var n=e.filter((function(e){return e[1]===r.toString()})),o=[],l=[],c=0;c<n.length;c++)n[c][0]=j(n[c][0]),o.push({label:n[c][0],value:n[c][0]}),l.push(n[c][2]),n[c][2]&&n[c][2];t.push({year:r,labels:o,values:l,color:P(a)}),a+=1}r+=1}k(t)};return(0,a.useEffect)((function(){T("/api/explore/codebook?indicator_id=989",F),T("/api/explore/codebook?indicator_id=985",Z),T("/api/explore/codebook?indicator_id=987",z),T("/api/explore/codebook?indicator_id=983",M)}),[]),a.createElement("div",null,o.length<1&&p.length<1&&E.length<1&&S.length<1?a.createElement(u.Z,{id:"loader",isOpen:o.length<1&&p.length<1&&E.length<1&&S.length<1,className:"modal-dialog-centered loader"},a.createElement(d.Z,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-2"}),a.createElement("div",{className:"col-0 ml-3 pt-4"},a.createElement(m.Z,{type:"grow",color:"secondary",size:"sm"}),a.createElement(m.Z,{type:"grow",color:"success",size:"sm"}),a.createElement(m.Z,{type:"grow",color:"danger",size:"sm"}),a.createElement(m.Z,{type:"grow",color:"warning",size:"sm"})),a.createElement("div",{className:"col-0 pt-4 pl-4 float-left"},"Loading Content...")),a.createElement("br",null))):"",a.createElement("div",{className:"container-fluid charts_dashboards"},a.createElement("div",{className:"charts_dashboards--left_container p-0"},a.createElement("div",{className:"charts_dashboards--select"},a.createElement("div",{className:"charts_dashboards--select-container"},a.createElement(s.ZP,{id:"multiple",name:"filters",placeholder:"Filter City",value:C,options:t,onChange:function(e){D(e),l([]),N([]),k([]),g([]),c().get("/api/explore/codebook?indicator_id=989").then((function(t){A(t.data.table,l,e,O)})),c().get("/api/explore/codebook?indicator_id=989").then((function(t){A(t.data.table,N,e,P)})),c().get("/api/explore/codebook?indicator_id=987").then((function(t){A(t.data.table,g,e,O)})),c().get("/api/explore/codebook?indicator_id=983").then((function(t){A(t.data.table,k,e,P)}))},isMulti:!0,styles:w}))),a.createElement("div",{className:"charts_dashboards--barcharts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"charts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("h1",{className:"charts_dashboards--households"},"National Election: Voter Turnout")),a.createElement("div",{className:"col-md-3"},a.createElement(i.Z,{className:"charts_dashboards--button",text:"Raw Data",href:"/scoda/toolkit#/codebook-explorer/989",target:"_blank"}))),a.createElement(f.Z,{data:{labels:b().map(C,"label"),datasets:o.map((function(e){return{backgroundColor:e.color,borderColor:e.color,data:e.values,label:e.year,stack:e.year}}))},stepSize:2e5,hundred:!0,divide:1e3,x_label:"Number of People"}))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"charts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("h1",{className:"charts_dashboards--households"},"National Election: Registered Voters")),a.createElement("div",{className:"col-md-3"},a.createElement(i.Z,{className:"charts_dashboards--button",text:"Raw Data",href:"/scoda/toolkit#/codebook-explorer/985",target:"_blank"}))),a.createElement(f.Z,{data:{labels:b().map(C,"label"),datasets:E.map((function(e){return{backgroundColor:e.color,borderColor:e.color,data:e.values,label:e.year,stack:e.year}}))},stepSize:5e5,hundred:!0,divide:1e3,x_label:"Number of People"})))),a.createElement("hr",null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"charts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("h1",{className:"charts_dashboards--households"},"Local Election: Voter Turnout")),a.createElement("div",{className:"col-md-3"},a.createElement(i.Z,{className:"charts_dashboards--button",text:"Raw Data",href:"/scoda/toolkit#/codebook-explorer/987",target:"_blank"}))),a.createElement(f.Z,{data:{labels:b().map(C,"label"),datasets:p.map((function(e){return{backgroundColor:e.color,borderColor:e.color,data:e.values,label:e.year,stack:e.year}}))},stepSize:5e5,hundred:!0,divide:1e3,x_label:"Number of People"}))),a.createElement("div",{className:"col-md-6"},a.createElement("div",{className:"charts"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("h1",{className:"charts_dashboards--households"},"Local Election: Registered Voters")),a.createElement("div",{className:"col-md-3"},a.createElement(i.Z,{className:"charts_dashboards--button",text:"Raw Data",href:"/scoda/toolkit#/codebook-explorer/983",target:"_blank"}))),a.createElement(f.Z,{data:{labels:b().map(C,"label"),datasets:S.map((function(e){return{backgroundColor:e.color,borderColor:e.color,data:e.values,label:e.year,stack:e.year}}))},stepSize:2e5,hundred:!0,divide:1e3,x_label:"Number of People"}))))))),a.createElement("div",{className:"spacer"}))},S=function(){return a.createElement("div",{className:"sorc_dashboards"},a.createElement("div",{className:"spacer--top"}),a.createElement(o.default,{name:"State of Cities Reports",dropdownName:"Citizen Engagement",dropDownItem:{dropdownMenu:[{name:"Service Delivery",href:"socr#/service_delivery",active:!1},{name:"Citizen Engagement",href:"socr#/citizen_engagement",active:!0},{name:"Municipal Human Resources",href:"socr#/human_resources",active:!1},{name:"People and Households",href:"socr#/people_household",active:!1},{name:"Employment",href:"socr#/employment",active:!1},{name:"Dwellings",href:"socr#/dwellings",active:!1},{name:"Household Income",href:"socr#/household_income",active:!1},{name:"Food Security, Literacy and Inequality",href:"socr#/food_security",active:!1},{name:"Life Expectancy and Health",href:"socr#/life_expectancy",active:!1},{name:"Education",href:"socr#/education",active:!1},{name:"Sustainability",href:"socr#/sustainability",active:!1},{name:"ICT Infrastructure",href:"socr#/infrastructure",active:!1},{name:"Transport Mode",href:"socr#/transport_mode",active:!1},{name:"Public Transport Spend",href:"socr#/public_transport_spend",active:!1},{name:"Travel Time",href:"socr#/travel_time",active:!1}]},buttonText:"Download as PNG"}),a.createElement(n.default,null),a.createElement("div",{id:"content",className:"sorc_dashboards sorc_dashboards--citizen_engagement"},a.createElement(_,null)))}}}]);